{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- ========================= SECTION MAIN ========================= -->
<section class="section-intro padding-y-sm">
    <div class="container">
        <div  style="align: center;" class="intro-banner-wrap">
            {% include "includes/alerts.html" %}
            
        </div>
    </div> <!-- container //  -->
    
    <div class='col-lg-12'>
        
        <div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="rounded mx-auto d-block img-fluid " style="height:400px;" src="{% static 'images/banners/nankang_head.jpg' %}" alt="First slide">
                </div>
                <div class="carousel-item">
                    <img class="rounded mx-auto d-block img-fluid" style="height:400px;" src="{% static 'images/banners/INSTA3.png' %}" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img class="rounded mx-auto d-block img-fluid" style="height:400px;" src="{% static 'images/banners/nkban1.jpg' %}" alt="Third slide">
                </div>
            </div>
        </div>
    </div>
    
</section>
<!-- ========================= SECTION MAIN END// ========================= -->

<section class="section-name padding-y-sm">
    <div class="container">
        <header class="section-heading">
            <h3 class="section-title">Are you looking to buy a Tyre?</h3>
        </header><!-- sect-heading -->
        <div class="row">
            Tyres are the essential point of contact between your vehicle and the road. We provides a range of tyres which provide good grip, superior control and excellent driving experience. You can buy brand new tyres online in just few steps.
        </div>
        <hr>
        <div class="row">
            
            <div class="col-sm-4">
                <p>How to find car tyre size? <br>
                    215 is the section width of a tyre, 60 is Aspect Ratio of tyre, 16 is Diameter of the wheel rim</p>
                    
                    <img class="img-fluid" src="{% static 'images/banners/tyresize.jpeg' %}">
                </div>
                
                <div class="col-sm-5">
                    <form action="{% url 'search_size' %}" method="GET" class="search">
                        
                        <div class="row mb-3">
                            
                            <label class="col col-sm-2 col-form-label " for="width">Width</label>
                            <div class="col col-sm-5"> 
                                <select class="form-select" onclick="getsizes('width');" id="width"name="width">
                                    <option>Width</option>
                                    {% for width in width %}
                                    <option>{{ width.width }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                        </div>
                        
                        <div class="row mb-3">
                            <label class="col-sm-2 col-form-label" for="profile">Profile</label>
                            <div class="col-sm-5"> 
                                <select class="form-select" onclick="getsizes('profile');" id="profile"name="profile">
                                    
                                    <option>Profile</option>
                                    
                                </select>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-2 col-form-label" for="diameter">Rim Size</label>
                            <div class="col-sm-5"> 
                                <select class="form-select"    id="diameter"name="diameter">
                                    
                                    <option>Rim Size</option>
                                    
                                </select>
                            </div>
                            
                            <div class="col-sm-2"> 
                                <input type="radio"  id="view1" value="view1" name="view1">View 1
                            </div>
                            <div class="col-sm-2"> 
                                <input type="radio"   id="view2" value="view2" name="view1">View 2
                            </div>
                        </div>
                        
                        <div class="row mb-3">
                            <label class="col-sm-2 col-form-label" for="terrain">Terrain</label>
                            <div class="col-sm-5"> 
                                <select class="form-select" id="terrain"name="terrain">
                                    <option>Terrain</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" type="submit">
                            Search
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </form> 
                </div>
                
            </div> <!-- row.// -->
        </div><!-- container // -->
    </section>
    
    <section class="section-name padding-y-sm">
        <div class="container">
    <div class="row">

         
        <header class="section-heading">
            <h3 class="section-title">The "BEST TYRE" Experience</h3>
        </header><!-- sect-heading -->

    </div>


    <div class="row d-flex justify-content-center" >
        
        <div class="col-sm-2">
            <h3 class="">You search</h3>
            <p class="">Search over <strong>~100 tyres</strong> to find the right tyre for your car</p>
        </div>
        
        <div class="col-sm-2">              
            <h3 class="">You buy</h3>
            <p class="">Purchase &amp; save up to <strong>45% off</strong> MRP</p>
        </div>
        
        <div class="col-sm-2">              
            <h3 class="">We deliver</h3>
            <p class="">Weâ€™ll deliver your tyres to one of our fitment locations or your preferred address <strong>FAST &amp; FREE<sup>+</sup></strong> (exclusions apply see <a class="sc-dzVpKk bBBwQO" href="/learn-more/purchasing-tyres/delivery-information">Delivery Information</a>. for further details)</p>
        </div>
        

        <div class="col-sm-2">              
            <h3 class="">We install</h3>
            <p class="">Our <strong>Mobile Fitting Vans</strong> can come to you, or select one of our <strong>preferred Fitment Centre's</strong> to install your tyres and they'll do the rest^</p>
        </div>
        

    </div>
    </div>
</section>
    
    
   
    <script>
        setTimeout(function () {
            $('#myModal2').modal('show');
        }, 2000);
        
        getsizes('width');
        
        function getsizes(cmbselect) {
            
            
            // preventing from page reload and default actions
            
            // serialize the data for sending the form data.
            var serializedData = $(this).serialize();
            // make POST ajax call
            
            var data = new FormData();
            
            if (cmbselect == "width") {
                var dataString = "width="+ document.getElementById("width").value;
            }
            if (cmbselect == "profile") {
                var dataString = "width="+ document.getElementById("width").value + "&profile="+ document.getElementById("profile").value;
            }
            
            
            
            $.ajax({
                type: 'GET',
                url: "{% url 'get_sizes' %}",
                data: dataString,
                success: function (response) {
                    if (cmbselect == "width") {
                        var mySelect = document.getElementById('profile');
                        mySelect.options.length = 0;
                        mySelect.options[0] = new Option ("Profile", "Profile");
                        i = 1;
                        response.width.forEach(function (item) { 
                            mySelect.options[i] = new Option (item.height, item.height);
                            i = i +1;
                        }); 
                        var mySelect = document.getElementById('diameter');
                        mySelect.options.length = 0;
                        mySelect.options[0] = new Option ("Rim Size", "Rim Size");
                        
                    }
                    
                    if (cmbselect == "profile") {
                        var mySelect = document.getElementById('diameter');
                        mySelect.options.length = 0;
                        mySelect.options[0] = new Option ("Rim Size", "Rim Size");
                        i = 1;
                        response.width.forEach(function (item) { 
                            mySelect.options[i] = new Option (item.diameter, item.diameter);
                            i = i +1;
                        }); 
                    }
                    
                    
                },
                error: function (response) {
                    // alert the error if any error occured
                    alert(response["responseJSON"]["error"]);
                }
            })
        }
        
        
        
        
        
    </script>
    <!-- ========================= SECTION  END// ========================= -->
    {% endblock %}
    
